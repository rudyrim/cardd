<!DOCTYPE html>
<html>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker3.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.js"></script>
    <style>
    

        .name {
        font-size: 22px;
        text-transform: capitalize;
        text-align: center;
        }
        .color {
        font-size: 16px;
        float:left;
        }
        .state {
        font-size: 16px;
        float:right;
        }
        .image {
        width:100%;
        display:flex;
        }
        .description {
        font-size: 14px;
        text-align: center;
        }
        .lien {
        font-size: 14px;
        text-align: center;
        border-style: dotted solid;
        padding: 10px;
        border: 5px black;
        width: 100%;
        }
.calendrier{
    width: 300px;
    height: 300px;
    display: block;
  margin-left: auto;
  margin-right: auto;
  background-color: burlywood;
}
        #container {
        padding: 10px;
         /* margin: 50px;*/
        width:100%;
        background:white;
        display: flex;
        border: 5px black;
        display: grid;
  align-items: center;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        }
        #container div{
        width : 200px;
        height: 350 px;
        padding : 20px;
        margin : 10px;
    }
    #container div:nth-child(odd) {
  background: sandybrown;
}

#container div:nth-child(even) {
  background: salmon;
}
    </style>
    <style>
      #pickyDate{
      color:#4f372d;
      font-size: 20px;
      width:350px;
      background-color:#eb6841 ;
   
  }
    #showDate{
      width:350px;
      background-color:#eb6841 ;
      display:none;
    }
  .items{
    
    text-align:center;
    margin-top:10px;
    width:250px;
    height:20px;
    background:#00a0b0;
  }
  span{
      display: inline-block;
  }
  .Calendrier{
      width:250px;
  }
  #bodycalen{
      height: 300px;
      background:#00a0b0;
  }
  #bodyevent{
      height: 300px;
      background:#00ffb0;
      display : none;
  }
  
  </style>
<body>
    <div class="calendrier">
      <div id="headcalen">
        <span style="width:33%"><button onclick="myFunction()"> Event </button></span>
        <span id="selectDate" style="width:auto"> Date</span>
      </div> 
      <div id="bodycalen"></div>
      <div id="bodyevent"></div>
      <div id="footcalen"></div>
    </div>
    <div id="container"></div>
  </div>



<script> 
              for( var i=0; i<10;i++){
                  card(i);
              }
     
   function card(i) {
      var xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {

 var node = document.createElement("div");
  var textnode = document.createTextNode(Resp(this.responseText));
  node.innerHTML = Resp(this.responseText) ;
  document.getElementById("container").appendChild(node);
        }
      };
      //https://raw.githubusercontent.com/rudyrim/cardd/main/"
      xhttp.open("GET", "https://raw.githubusercontent.com/rudyrim/cardd/main/t"+i+".txt", true);
      xhttp.send();
  }
    function Resp(responseText) {
        let  resp= "<p class='name'>" + responseText.split("*")[0]+"</p></br>"
          + "<p class='color-state'>"
          +"<span class='color'>" +responseText.split("*")[1]+"</span>"
          +"<span class='state'>" + responseText.split("*")[2]+"</span>"
          + "</p></br>"
          + "<p class='date'>" + responseText.split("*")[3]+"</p>"
          + "<img class='image'src=https://raw.githubusercontent.com/rudyrim/cardd/main/" + responseText.split("*")[4]+">"
          + "<p class='description'>" + responseText.split("*")[5]+"</p>"
          + "<Button class='lien'><a href='"+responseText.split("*")[6]+"'>"
          +responseText.split("*")[6]+"</a></Button>";   
       return resp;
    }
  
  </script>
<script>
  function myFunction() {
    var x = document.getElementById("bodycalen");
    var y = document.getElementById("bodyevent");
    if (x.style.display === "none") {
      x.style.display = "block";
      y.style.display = "none";
    } else {
      x.style.display = "none";
      y.style.display = "block";
    }
  }
  
  
  (function($){
  $.fn.datepicker.dates['fr'] = {
  days: ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"],
  daysShort: ["dim.", "lun.", "mar.", "mer.", "jeu.", "ven.", "sam."],
  daysMin: ["di", "lu", "ma", "me", "je", "ve", "sa"],
  months: ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre"],
  monthsShort: ["janv.", "févr.", "mars", "avril", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc."],
  today: "Aujourd'hui",
  monthsTitle: "Mois",
  clear: "Effacer",
  weekStart: 1,
  format: "dd/mm/yyyy"
  };
  }(jQuery));
  
  
  $('#bodycalen').datepicker({
    format: "dd.mm.yyyy",
    startWeek: 1,
    inline:true,
    multidate: true,
    todayHighlight: true,
    minDate: 0,
    language: 'fr',
  autoclose: true,
    todayHighlight: true,
  }).datepicker('setDates', [new Date(2021, 1, 16), new Date(2021, 1, 18), new Date(2021, 1, 17)]) .on('changeDate', showTestDate);
  
  
  function showTestDate(){
    var value = $('#bodycalen').datepicker('getFormattedDate');
    document.getElementById('selectDate').innerHTML= value.substr(value.length-10, value.length);
  
    count = ['08h00','08h15','09h00','09h15'];
    myFunction();
  container = document.getElementById('bodyevent');
  container.innerHTML="";
  
    for(i = 0; i < count.length; i++){
      container.innerHTML+="<div><button class='items'>"+ count[i] +"</button></div>";
    }
    
  }
  </script>
</body>
</html>
